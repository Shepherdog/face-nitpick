!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="./",e(e.s=8)}([function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";(function(t){var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(t,e,n,r,o){if(n=/(http[s]?:\/\/)[^\s]*/.test(n)?n:"http://rapapi.org/mockjsdata/16758"+n,"json"===t)return new Promise(function(o,i){$.ajax({type:e,url:n,data:r,dataType:t,xhrFields:{withCredentials:!0},crossDomain:!0,success:function(t){o(t)},error:function(t,e,r){i(new Error("Fail at "+n+" with ["+t.status+"]"+e))}})});if("jsonp"===t)return new Promise(function(i,a){$.ajax({type:e,url:n,data:r,dataType:t,jsonp:o,success:function(t){i(t)},error:function(t,e,r){a(new Error("Fail at "+n+" with "+e))}})});throw Error("Not support ajax dataType: "+t)},a={get:function(t){return i("json","GET",t)},post:function(t,e){return i("json","POST",t,e)},getJsonp:function(t,e){return i("jsonp","GET",t,null,e||"callback")},postJsonp:function(t,e,n){return i("jsonp","POST",t,e,n||"callback")},all:function(t){var e=Array.prototype.slice.call(arguments),n=e.map(function(t){i.apply(null,t)});return Promise.all(n)}};"object"===o(t)&&t.exports?t.exports=a:void 0!==(r=function(){return a}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0)(t))},function(t,e,n){"use strict";(function(t){var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i={formatDate:function(t,e){var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));for(var r in n)new RegExp("("+r+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return e},getQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),n=window.location.search.substr(1).match(e),r="";return null!=n&&(r=n[2]),e=null,n=null,null==r||""==r||"undefined"==r?"":r},isWeixin:function(){return"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},uuid:function(){return"xxxxxxxxyxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},rectContainsPoint:function(t,e){return e.x0>=t.x&&e.x0<=t.x+t.w&&e.y0>=t.y&&e.y0<=t.y+t.h},rectShrink:function(t,e,n){return{x:t.x+e/2,y:t.y+n/2,w:t.w-e,h:t.h-n}}};"object"===o(t)&&t.exports?t.exports=i:void 0!==(r=function(){return i}.call(e,n,e,t))&&(t.exports=r)}).call(e,n(0)(t))},function(t,e,n){"use strict";var r=n(9),o=(n(1),n(2));t.exports={template:r,data:function(){return{draggables:null,gameId:"",imgSrc:"",imgUrl:""}},created:function(){$.getScript("../assets/js/lrz.all.bundle.js")},mounted:function(){this.initButtons(),this.loadDraggables()},methods:{initButtons:function(){var t=$("#container").height(),e={A:1,B:2,C:3};$(".draggable").each(function(n,r){var o=$(r).width()*n+10*(n+1),i=t-$(r).height()-10;$(r).css({left:o+"px",top:i+"px"});var a=r.dataset.tag;$(r).css({background:"url(../assets/img/mark"+e[a]+".png) no-repeat center","background-size":"contain"}),$(r).addClass("animated slideInLeft"),$(r).on("animationend",function(){$(r).removeClass("animated slideInLeft")})}),$(".trash").addClass("animated slideInRight")},loadDraggables:function(){this.draggables&&(this.draggables.off("pointerDown",this.bindPointerDown),this.draggables.off("pointerMove",this.bindPointerMove),this.draggables.off("pointerUp",this.bindPointerUp)),this.draggables=$(".draggable").draggabilly({containment:!0}),this.draggables.on("pointerDown",this.bindPointerDown),this.draggables.on("pointerMove",this.bindPointerMove),this.draggables.on("pointerUp",this.bindPointerUp)},bindPointerDown:function(t,e){var n=t.target.dataset.tag.split("-"),r=n[0];if(!n[1]){var i=$(t.target).clone();i.removeClass("is-pointer-down"),i.appendTo("#container"),t.target.dataset.tag=[r,o.uuid()].join("-"),this.loadDraggables()}},bindPointerMove:function(t,e){this.pointerInTrashArea(e)?$(t.target).addClass("is-delete"):$(t.target).removeClass("is-delete")},bindPointerUp:function(t,e){$(t.target).addClass("is-pointer-up"),this.pointerInTrashArea(e)&&($(t.target).addClass("animated zoomOut"),$(t.target).on("animationend",function(){t.target.remove()})),this.showGuideTips()},pointerInTrashArea:function(t){var e=$(".trash"),n=e.position().left,r=e.position().top,i=e.width(),a=e.height(),s=t.pageX,c=t.pageY;return o.rectContainsPoint({x:n,y:r,w:i,h:a},{x0:s,y0:c})},showGuideTips:function(){JSON.parse(localStorage.getItem("hasGuide")||!1)||(setTimeout(function(){notie.alert({text:"记得分享给小伙伴们哦！"})},5e3),localStorage.setItem("hasGuide","true"))},start:function(t){$("#file-input").trigger("click")},getInputImage:function(t){var e=this,n=t.target.files[0];$("#start-button").text("载入中..."),lrz(n,{width:750}).then(function(t){var r=t.base64;e.imgSrc=r,e.uploadImage(n.name,{base64:r}),$("#start-button").remove()})},uploadImage:function(t,e){var n=this,r=AV.Object.extend("GameData"),o=new r;o.set("openId",""),o.set("image",new AV.File(t,e)),o.save().then(function(e){console.log("image ["+t+"] uploaded"),n.gameId=e.id,n.imgUrl=e.get("image").get("url"),n.addWxShare(function(){n.updateGameData(),notie.alert({text:"分享成功！"})})},function(t){console.error(JSON.stringify(t))})},getGameData:function(){var t=$("#play-img").position().left,e=$("#play-img").position().top,n=$("#play-img").get(0).naturalWidth/$("#play-img").width(),r=$("#play-img").get(0).naturalHeight/$("#play-img").height(),o=[];return $(".draggable").each(function(i,a){var s=a.dataset.tag.split("-"),c=s[0],u=s[1];if(u){a=$(a);var l=(a.position().left-t)*n|0,p=(a.position().top-e)*r|0,f=a.width(),h=a.height();o.push({type:c,id:u,x:l,y:p,w:f,h:h})}}),o},updateGameData:function(){var t=AV.Object.createWithoutData("GameData",this.gameId);t.set("mapData",this.getGameData()),t.save().then(function(t){console.log("game data updated")},function(t){console.error(JSON.stringify(t))})},getShareUrl:function(){var t=location.search+(location.search?"&":"?gameId="+this.gameId);return location.origin+location.pathname+t+"#/play"},addWxShare:function(t,e){var n=this;new AV.Query("WXSignature").get("58fc628dda2f60005dc229f2").then(function(r){var o=r.get("ticket"),i=r.get("timestamp"),a=new jsSHA("SHA-1","TEXT");a.update("jsapi_ticket="+o+"&noncestr=1234567890&timestamp="+i+"&url="+location.href.split("#")[0]);var s=a.getHash("HEX"),c={appId:"wx349d3ab053fb111f",timestamp:i,nonceStr:"1234567890",signature:s,jsApiList:["checkJsApi","showMenuItems","onMenuShareAppMessage","onMenuShareTimeline"]},u={title:"萌脸找茬😊",desc:"快来挑战萌脸找茬吧！",link:n.getShareUrl(),imgUrl:n.imgUrl};wx.config(c),wx.ready(function(){wx.showMenuItems({menuList:["menuItem:share:appMessage","menuItem:share:timeline"]}),u=Object.assign(u,{success:function(){t&&t.apply(null)},cancel:function(){e&&e.apply(null)}}),wx.onMenuShareAppMessage(u),wx.onMenuShareTimeline(u)}),wx.error(function(t){alert("wx error: "+JSON.stringify(t))})},function(t){console.error(JSON.stringify(t))})}}}},function(t,e,n){"use strict";var r=n(10),o=(n(1),n(2));t.exports={template:r,data:function(){return{draggables:null,gameData:null,imgSrc:"",markIds:[],remainTime:30,countDownTimer:0,timeStr:"00:00",score:0}},created:function(){var t=this,e=o.getQueryString("gameId");if(!e)return void console.error("gameId cannot be empty");new AV.Query("GameData").get(e).then(function(e){t.imgSrc=e.get("image").get("url"),t.gameData=e.get("mapData")},function(t){console.error(JSON.stringify(t))})},mounted:function(){$(".hud").addClass("animated slideInDown")},methods:{loadGame:function(){var t=this;this.markIds=[];var e={A:1,B:2,C:3},n=$("#play-img").position().left,r=$("#play-img").position().top,i=$("#play-img").get(0).naturalWidth/$("#play-img").width(),a=$("#play-img").get(0).naturalHeight/$("#play-img").height();$(".draggable").each(function(t,e){e.remove()}),this.gameData.forEach(function(s){var c=$('<div class="draggable"></div>');c.appendTo("#container"),c.addClass("no-border");var u=s.x/i+n,l=s.y/a+r,p=s.w,f=s.h,h=o.rectShrink({x:u,y:l,w:p,h:f},p/2,f/2);c.css({left:h.x+"px",top:h.y+"px"}),c.width(h.w),c.height(h.h),c.css({background:"url(../assets/img/mark"+e[s.type]+".png) no-repeat center","background-size":"contain"}),c.get(0).dataset.tag=[s.type,s.id].join("-"),t.markIds.push(s.id)}),this.draggables=$(".draggable").draggabilly(),this.draggables.on("staticClick",this.bindClick),this.draggables.draggabilly("disable"),this.initGame()},initGame:function(){var t=this;this.remainTime=30,this.score=0,this.countDownTimer=setInterval(function(){t.remainTime--,t.timeStr=o.formatDate(new Date(1e3*t.remainTime),"mm:ss"),$(".remainTime").css("color",t.remainTime<10?"#f00":"#000"),0==t.remainTime&&(clearInterval(t.countDownTimer),notie.confirm({text:"时间用完了!<br>你的得分是 "+t.score,submitText:"再试一把",cancelText:"不玩了",submitCallback:function(){t.loadGame()},cancelCallback:function(){wx.closeWindow()}}))},1e3)},bindClick:function(t,e){$(t.target).removeClass("no-border"),$(t.target).addClass("is-delete");var n={A:30,B:20,C:10},r=t.target.dataset.tag.split("-"),o=r[0],i=r[1],a=this.markIds.indexOf(i);a>=0&&(this.score+=n[o],this.markIds.splice(a,1),0==this.markIds.length&&(clearInterval(this.countDownTimer),notie.force({type:3,text:"BINGO！你获得了满分！",buttonText:"赞一个",callback:function(){notie.alert({text:"记得分享给小伙伴们哦！"})}})))}}}},function(t,e,n){"use strict";t.exports={name:"global",state:{amount:0},add_item:function(t){this.state.amount+=t.amount}}},function(t,e,n){"use strict";var r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/**
  * vue-router v2.1.1
  * (c) 2016 Evan You
  * @license MIT
  */
!function(a,s){"object"==i(e)&&void 0!==t?t.exports=s():(r=s,void 0!==(o="function"==typeof r?r.call(e,n,e,t):r)&&(t.exports=o))}(0,function(){function t(t,e){t||"undefined"!=typeof console&&console.warn("[vue-router] "+e)}function e(t,e){if(void 0===e&&(e={}),t){var r;try{r=n(t)}catch(t){r={}}for(var o in e)r[o]=e[o];return r}return e}function n(t){var e={};return(t=t.trim().replace(/^(\?|#|&)/,""))?(t.split("&").forEach(function(t){var n=t.replace(/\+/g," ").split("="),r=yt(n.shift()),o=n.length>0?yt(n.join("=")):null;void 0===e[r]?e[r]=o:Array.isArray(e[r])?e[r].push(o):e[r]=[e[r],o]}),e):e}function r(t){var e=t?Object.keys(t).map(function(e){var n=t[e];if(void 0===n)return"";if(null===n)return gt(e);if(Array.isArray(n)){var r=[];return n.slice().forEach(function(t){void 0!==t&&(null===t?r.push(gt(e)):r.push(gt(e)+"="+gt(t)))}),r.join("&")}return gt(e)+"="+gt(n)}).filter(function(t){return t.length>0}).join("&"):null;return e?"?"+e:""}function o(t,e,n){var r={name:e.name||t&&t.name,meta:t&&t.meta||{},path:e.path||"/",hash:e.hash||"",query:e.query||{},params:e.params||{},fullPath:s(e),matched:t?a(t):[]};return n&&(r.redirectedFrom=s(n)),Object.freeze(r)}function a(t){for(var e=[];t;)e.unshift(t),t=t.parent;return e}function s(t){var e=t.path,n=t.query;void 0===n&&(n={});var o=t.hash;return void 0===o&&(o=""),(e||"/")+r(n)+o}function c(t,e){return e===vt?t===e:!!e&&(t.path&&e.path?t.path.replace(bt,"")===e.path.replace(bt,"")&&t.hash===e.hash&&u(t.query,e.query):!(!t.name||!e.name)&&t.name===e.name&&t.hash===e.hash&&u(t.query,e.query)&&u(t.params,e.params))}function u(t,e){void 0===t&&(t={}),void 0===e&&(e={});var n=Object.keys(t),r=Object.keys(e);return n.length===r.length&&n.every(function(n){return String(t[n])===String(e[n])})}function l(t,e){return 0===t.path.indexOf(e.path.replace(/\/$/,""))&&(!e.hash||t.hash===e.hash)&&p(t.query,e.query)}function p(t,e){for(var n in e)if(!(n in t))return!1;return!0}function f(t){if(!(t.metaKey||t.ctrlKey||t.shiftKey||t.defaultPrevented||0!==t.button)){if(!/\b_blank\b/i.test(t.target.getAttribute("target")))return t.preventDefault(),!0}}function h(t){if(t)for(var e,n=0;n<t.length;n++){if(e=t[n],"a"===e.tag)return e;if(e.children&&(e=h(e.children)))return e}}function d(t){if(!d.installed){d.installed=!0,dt=t,Object.defineProperty(t.prototype,"$router",{get:function(){return this.$root._router}}),Object.defineProperty(t.prototype,"$route",{get:function(){return this.$root._route}}),t.mixin({beforeCreate:function(){this.$options.router&&(this._router=this.$options.router,this._router.init(this),t.util.defineReactive(this,"_route",this._router.history.current))}}),t.component("router-view",mt),t.component("router-link",xt);var e=t.config.optionMergeStrategies;e.beforeRouteEnter=e.beforeRouteLeave=e.created}}function m(t,e,n){if("/"===t.charAt(0))return t;if("?"===t.charAt(0)||"#"===t.charAt(0))return e+t;var r=e.split("/");n&&r[r.length-1]||r.pop();for(var o=t.replace(/^\//,"").split("/"),i=0;i<o.length;i++){var a=o[i];"."!==a&&(".."===a?r.pop():r.push(a))}return""!==r[0]&&r.unshift(""),r.join("/")}function g(t){var e="",n="",r=t.indexOf("#");r>=0&&(e=t.slice(r),t=t.slice(0,r));var o=t.indexOf("?");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{path:t,query:n,hash:e}}function y(t){return t.replace(/\/\//g,"/")}function v(t){var e=Object.create(null),n=Object.create(null);return t.forEach(function(t){b(e,n,t)}),{pathMap:e,nameMap:n}}function b(t,e,n,r,o){var i=n.path,a=n.name,s={path:w(i,r),components:n.components||{default:n.component},instances:{},name:a,parent:r,matchAs:o,redirect:n.redirect,beforeEnter:n.beforeEnter,meta:n.meta||{}};n.children&&n.children.forEach(function(n){b(t,e,n,s)}),void 0!==n.alias&&(Array.isArray(n.alias)?n.alias.forEach(function(n){b(t,e,{path:n},r,s.path)}):b(t,e,{path:n.alias},r,s.path)),t[s.path]||(t[s.path]=s),a&&(e[a]||(e[a]=s))}function w(t,e){return t=t.replace(/\/$/,""),"/"===t[0]?t:null==e?t:y(e.path+"/"+t)}function x(t,e){for(var n,r=[],o=0,i=0,a="",s=e&&e.delimiter||"/";null!=(n=Et.exec(t));){var c=n[0],u=n[1],l=n.index;if(a+=t.slice(i,l),i=l+c.length,u)a+=u[1];else{var p=t[i],f=n[2],h=n[3],d=n[4],m=n[5],g=n[6],y=n[7];a&&(r.push(a),a="");var v=null!=f&&null!=p&&p!==f,b="+"===g||"*"===g,w="?"===g||"*"===g,x=n[2]||s,S=d||m;r.push({name:h||o++,prefix:f||"",delimiter:x,optional:w,repeat:b,partial:v,asterisk:!!y,pattern:S?O(S):y?".*":"[^"+T(x)+"]+?"})}}return i<t.length&&(a+=t.substr(i)),a&&r.push(a),r}function S(t,e){return j(x(t,e))}function k(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function $(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function j(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==i(t[n])&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,r){for(var o="",i=n||{},a=r||{},s=a.pretty?k:encodeURIComponent,c=0;c<t.length;c++){var u=t[c];if("string"!=typeof u){var l,p=i[u.name];if(null==p){if(u.optional){u.partial&&(o+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(kt(p)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<p.length;f++){if(l=s(p[f]),!e[c].test(l))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(l)+"`");o+=(0===f?u.prefix:u.delimiter)+l}}else{if(l=u.asterisk?$(p):s(p),!e[c].test(l))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+l+'"');o+=u.prefix+l}}else o+=u}return o}}function T(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function O(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function A(t,e){return t.keys=e,t}function E(t){return t.sensitive?"":"i"}function C(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return A(t,e)}function I(t,e,n){for(var r=[],o=0;o<t.length;o++)r.push(D(t[o],e,n).source);return A(new RegExp("(?:"+r.join("|")+")",E(n)),e)}function P(t,e,n){return R(x(t,n),e,n)}function R(t,e,n){kt(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,o=!1!==n.end,i="",a=0;a<t.length;a++){var s=t[a];if("string"==typeof s)i+=T(s);else{var c=T(s.prefix),u="(?:"+s.pattern+")";e.push(s),s.repeat&&(u+="(?:"+c+u+")*"),u=s.optional?s.partial?c+"("+u+")?":"(?:"+c+"("+u+"))?":c+"("+u+")",i+=u}}var l=T(n.delimiter||"/"),p=i.slice(-l.length)===l;return r||(i=(p?i.slice(0,-l.length):i)+"(?:"+l+"(?=$))?"),i+=o?"$":r&&p?"":"(?="+l+"|$)",A(new RegExp("^"+i,E(n)),e)}function D(t,e,n){return kt(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?C(t,e):kt(t)?I(t,e,n):P(t,e,n)}function M(t){var e,n,r=Ct[t];return r?(e=r.keys,n=r.regexp):(e=[],n=$t(t,e),Ct[t]={keys:e,regexp:n}),{keys:e,regexp:n}}function _(t,e,n){try{return(It[t]||(It[t]=$t.compile(t)))(e||{},{pretty:!0})}catch(t){return""}}function U(t,n,r){var o="string"==typeof t?{path:t}:t;if(o.name||o._normalized)return o;if(!o.path&&o.params&&n){o=q({},o),o._normalized=!0;var i=q(q({},n.params),o.params);if(n.name)o.name=n.name,o.params=i;else if(n.matched){var a=n.matched[n.matched.length-1].path;o.path=_(a,i,"path "+n.path)}return o}var s=g(o.path||""),c=n&&n.path||"/",u=s.path?m(s.path,c,r||o.append):n&&n.path||"/",l=e(s.query,o.query),p=o.hash||s.hash;return p&&"#"!==p.charAt(0)&&(p="#"+p),{_normalized:!0,path:u,query:l,hash:p}}function q(t,e){for(var n in e)t[n]=e[n];return t}function G(e){function n(t,e,n){var r=U(t,e),o=r.name;if(o){var a=l[o],c=M(a.path).keys.filter(function(t){return!t.optional}).map(function(t){return t.name});if("object"!=i(r.params)&&(r.params={}),e&&"object"==i(e.params))for(var p in e.params)!(p in r.params)&&c.indexOf(p)>-1&&(r.params[p]=e.params[p]);if(a)return r.path=_(a.path,r.params,'named route "'+o+'"'),s(a,r,n)}else if(r.path){r.params={};for(var f in u)if(V(f,r.params,r.path))return s(u[f],r,n)}return s(null,r)}function r(e,r){var a=e.redirect,c="function"==typeof a?a(o(e,r)):a;if("string"==typeof c&&(c={path:c}),!c||"object"!=(void 0===c?"undefined":i(c)))return s(null,r);var u=c,p=u.name,f=u.path,h=r.query,d=r.hash,m=r.params;if(h=u.hasOwnProperty("query")?u.query:h,d=u.hasOwnProperty("hash")?u.hash:d,m=u.hasOwnProperty("params")?u.params:m,p)return l[p],n({_normalized:!0,name:p,query:h,hash:d,params:m},void 0,r);if(f){var g=z(f,e);return n({_normalized:!0,path:_(g,m,'redirect route with path "'+g+'"'),query:h,hash:d},void 0,r)}return t(!1,"invalid redirect option: "+JSON.stringify(c)),s(null,r)}function a(t,e,r){var o=_(r,e.params,'aliased route with path "'+r+'"'),i=n({_normalized:!0,path:o});if(i){var a=i.matched,c=a[a.length-1];return e.params=i.params,s(c,e)}return s(null,e)}function s(t,e,n){return t&&t.redirect?r(t,n||e):t&&t.matchAs?a(t,e,t.matchAs):o(t,e,n)}var c=v(e),u=c.pathMap,l=c.nameMap;return n}function V(t,e,n){var r=M(t),o=r.regexp,i=r.keys,a=n.match(o);if(!a)return!1;if(!e)return!0;for(var s=1,c=a.length;s<c;++s){var u=i[s-1],l="string"==typeof a[s]?decodeURIComponent(a[s]):a[s];u&&(e[u.name]=l)}return!0}function z(t,e){return m(t,e.parent?e.parent.path:"/",!0)}function H(t,e,n){!function r(o){o>=t.length?n():t[o]?e(t[o],function(){r(o+1)}):r(o+1)}(0)}function L(t){if(!t)if(Pt){var e=document.querySelector("base");t=e?e.getAttribute("href"):"/"}else t="/";return"/"!==t.charAt(0)&&(t="/"+t),t.replace(/\/$/,"")}function B(t,e){var n,r=Math.max(t.length,e.length);for(n=0;n<r&&t[n]===e[n];n++);return{activated:e.slice(n),deactivated:t.slice(n)}}function J(t,e){return"function"!=typeof t&&(t=dt.extend(t)),t.options[e]}function N(t){return Z(Q(t,function(t,e){var n=J(t,"beforeRouteLeave");if(n)return Array.isArray(n)?n.map(function(t){return F(t,e)}):F(n,e)}).reverse())}function F(t,e){return function(){return t.apply(e,arguments)}}function W(t,e,n){return Z(Q(t,function(t,r,o,i){var a=J(t,"beforeRouteEnter");if(a)return Array.isArray(a)?a.map(function(t){return X(t,e,o,i,n)}):X(a,e,o,i,n)}))}function X(t,e,n,r,o){return function(i,a,s){return t(i,a,function(t){s(t),"function"==typeof t&&e.push(function(){Y(t,n.instances,r,o)})})}}function Y(t,e,n,r){e[n]?t(e[n]):r()&&setTimeout(function(){Y(t,e,n,r)},16)}function K(e){return Q(e,function(e,n,r,o){if("function"==typeof e&&!e.options)return function(n,i,a){var s=function(t){r.components[o]=t,a()},c=function(e){t(!1,"Failed to resolve async component "+o+": "+e),a(!1)},u=e(s,c);u&&"function"==typeof u.then&&u.then(s,c)}})}function Q(t,e){return Z(t.map(function(t){return Object.keys(t.components).map(function(n){return e(t.components[n],t.instances[n],t,n)})}))}function Z(t){return Array.prototype.concat.apply([],t)}function tt(t){t&&(Mt[t]={x:window.pageXOffset,y:window.pageYOffset})}function et(t){if(t)return Mt[t]}function nt(t){var e=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{x:n.left-e.left,y:n.top-e.top}}function rt(t){return it(t.x)||it(t.y)}function ot(t){return{x:it(t.x)?t.x:window.pageXOffset,y:it(t.y)?t.y:window.pageYOffset}}function it(t){return"number"==typeof t}function at(t){var e=window.location.pathname;return t&&0===e.indexOf(t)&&(e=e.slice(t.length)),(e||"/")+window.location.search+window.location.hash}function st(t,e){var n=window.history;try{e?n.replaceState({key:Ut},"",t):(Ut=_t(),n.pushState({key:Ut},"",t)),tt(Ut)}catch(n){window.location[e?"assign":"replace"](t)}}function ct(t){st(t,!0)}function ut(){var t=lt();return"/"===t.charAt(0)||(ft("/"+t),!1)}function lt(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.slice(e+1)}function pt(t){window.location.hash=t}function ft(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)}function ht(t,e,n){var r="hash"===n?"#"+e:e;return t?y(t+"/"+r):r}var dt,mt={name:"router-view",functional:!0,props:{name:{type:String,default:"default"}},render:function(t,e){var n=e.props,r=e.children,o=e.parent,i=e.data;i.routerView=!0;for(var a=o.$route,s=o._routerViewCache||(o._routerViewCache={}),c=0,u=!1;o;)o.$vnode&&o.$vnode.data.routerView&&c++,o._inactive&&(u=!0),o=o.$parent;i.routerViewDepth=c;var l=a.matched[c];if(!l)return t();var p=n.name,f=u?s[p]:s[p]=l.components[p];if(!u){var h=i.hook||(i.hook={});h.init=function(t){l.instances[p]=t.child},h.prepatch=function(t,e){l.instances[p]=e.child},h.destroy=function(t){l.instances[p]===t.child&&(l.instances[p]=void 0)}}return t(f,i,r)}},gt=encodeURIComponent,yt=decodeURIComponent,vt=o(null,{path:"/"}),bt=/\/$/,wt=[String,Object],xt={name:"router-link",props:{to:{type:wt,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,event:{type:[String,Array],default:"click"}},render:function(t){var e=this,n=this.$router,r=this.$route,i=n.resolve(this.to,r,this.append),a=i.normalizedTo,s=i.resolved,u=i.href,p={},d=this.activeClass||n.options.linkActiveClass||"router-link-active",m=a.path?o(null,a):s;p[d]=this.exact?c(r,m):l(r,m);var g=function(t){f(t)&&(e.replace?n.replace(a):n.push(a))},y={click:f};Array.isArray(this.event)?this.event.forEach(function(t){y[t]=g}):y[this.event]=g;var v={class:p};if("a"===this.tag)v.on=y,v.attrs={href:u};else{var b=h(this.$slots.default);if(b){b.isStatic=!1;var w=dt.util.extend;(b.data=w({},b.data)).on=y;(b.data.attrs=w({},b.data.attrs)).href=u}else v.on=y}return t(this.tag,v,this.$slots.default)}},St=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},kt=St,$t=D,jt=x,Tt=S,Ot=j,At=R,Et=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");$t.parse=jt,$t.compile=Tt,$t.tokensToFunction=Ot,$t.tokensToRegExp=At;var Ct=Object.create(null),It=Object.create(null),Pt="undefined"!=typeof window,Rt=Pt&&function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),Dt=function(t,e){this.router=t,this.base=L(e),this.current=vt,this.pending=null};Dt.prototype.listen=function(t){this.cb=t},Dt.prototype.transitionTo=function(t,e,n){var r=this,o=this.router.match(t,this.current);this.confirmTransition(o,function(){r.updateRoute(o),e&&e(o),r.ensureURL()},n)},Dt.prototype.confirmTransition=function(t,e,n){var r=this,o=this.current,a=function(){n&&n()};if(c(t,o))return this.ensureURL(),a();var s=B(this.current.matched,t.matched),u=s.deactivated,l=s.activated,p=[].concat(N(u),this.router.beforeHooks,l.map(function(t){return t.beforeEnter}),K(l));this.pending=t;var f=function(e,n){return r.pending!==t?a():void e(t,o,function(t){!1===t?(r.ensureURL(!0),a()):"string"==typeof t||"object"==(void 0===t?"undefined":i(t))?("object"==(void 0===t?"undefined":i(t))&&t.replace?r.replace(t):r.push(t),a()):n(t)})};H(p,f,function(){var n=[];H(W(l,n,function(){return r.current===t}),f,function(){return r.pending!==t?a():(r.pending=null,e(t),void(r.router.app&&r.router.app.$nextTick(function(){n.forEach(function(t){return t()})})))})})},Dt.prototype.updateRoute=function(t){var e=this.current;this.current=t,this.cb&&this.cb(t),this.router.afterHooks.forEach(function(n){n&&n(t,e)})};var Mt=Object.create(null),_t=function(){return String(Date.now())},Ut=_t(),qt=function(t){function e(e,n){var r=this;t.call(this,e,n);var o=e.options.scrollBehavior;window.addEventListener("popstate",function(t){Ut=t.state&&t.state.key;var e=r.current;r.transitionTo(at(r.base),function(t){o&&r.handleScroll(t,e,!0)})}),o&&window.addEventListener("scroll",function(){tt(Ut)})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.go=function(t){window.history.go(t)},e.prototype.push=function(t){var e=this,n=this.current;this.transitionTo(t,function(t){st(y(e.base+t.fullPath)),e.handleScroll(t,n,!1)})},e.prototype.replace=function(t){var e=this,n=this.current;this.transitionTo(t,function(t){ct(y(e.base+t.fullPath)),e.handleScroll(t,n,!1)})},e.prototype.ensureURL=function(t){if(at(this.base)!==this.current.fullPath){var e=y(this.base+this.current.fullPath);t?st(e):ct(e)}},e.prototype.handleScroll=function(t,e,n){var r=this.router;if(r.app){var o=r.options.scrollBehavior;o&&r.app.$nextTick(function(){var r=et(Ut),a=o(t,e,n?r:null);if(a){var s="object"==(void 0===a?"undefined":i(a));if(s&&"string"==typeof a.selector){var c=document.querySelector(a.selector);c?r=nt(c):rt(a)&&(r=ot(a))}else s&&rt(a)&&(r=ot(a));r&&window.scrollTo(r.x,r.y)}})}},e}(Dt),Gt=function(t){function e(e,n,r){t.call(this,e,n),r&&this.checkFallback()||ut()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.checkFallback=function(){var t=at(this.base);if(!/^\/#/.test(t))return window.location.replace(y(this.base+"/#"+t)),!0},e.prototype.onHashChange=function(){ut()&&this.transitionTo(lt(),function(t){ft(t.fullPath)})},e.prototype.push=function(t){this.transitionTo(t,function(t){pt(t.fullPath)})},e.prototype.replace=function(t){this.transitionTo(t,function(t){ft(t.fullPath)})},e.prototype.go=function(t){window.history.go(t)},e.prototype.ensureURL=function(t){var e=this.current.fullPath;lt()!==e&&(t?pt(e):ft(e))},e}(Dt),Vt=function(t){function e(e){t.call(this,e),this.stack=[],this.index=-1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.push=function(t){var e=this;this.transitionTo(t,function(t){e.stack=e.stack.slice(0,e.index+1).concat(t),e.index++})},e.prototype.replace=function(t){var e=this;this.transitionTo(t,function(t){e.stack=e.stack.slice(0,e.index).concat(t)})},e.prototype.go=function(t){var e=this,n=this.index+t;if(!(n<0||n>=this.stack.length)){var r=this.stack[n];this.confirmTransition(r,function(){e.index=n,e.updateRoute(r)})}},e.prototype.ensureURL=function(){},e}(Dt),zt=function(t){void 0===t&&(t={}),this.app=null,this.options=t,this.beforeHooks=[],this.afterHooks=[],this.match=G(t.routes||[]);var e=t.mode||"hash";switch(this.fallback="history"===e&&!Rt,this.fallback&&(e="hash"),Pt||(e="abstract"),this.mode=e,e){case"history":this.history=new qt(this,t.base);break;case"hash":this.history=new Gt(this,t.base,this.fallback);break;case"abstract":this.history=new Vt(this)}},Ht={currentRoute:{}};return Ht.currentRoute.get=function(){return this.history&&this.history.current},zt.prototype.init=function(t){var e=this;this.app=t;var n=this.history;if(n instanceof qt)n.transitionTo(at(n.base));else if(n instanceof Gt){var r=function(){window.addEventListener("hashchange",function(){n.onHashChange()})};n.transitionTo(lt(),r,r)}n.listen(function(t){e.app._route=t})},zt.prototype.beforeEach=function(t){this.beforeHooks.push(t)},zt.prototype.afterEach=function(t){this.afterHooks.push(t)},zt.prototype.push=function(t){this.history.push(t)},zt.prototype.replace=function(t){this.history.replace(t)},zt.prototype.go=function(t){this.history.go(t)},zt.prototype.back=function(){this.go(-1)},zt.prototype.forward=function(){this.go(1)},zt.prototype.getMatchedComponents=function(t){var e=t?this.resolve(t).resolved:this.currentRoute;return e?[].concat.apply([],e.matched.map(function(t){return Object.keys(t.components).map(function(e){return t.components[e]})})):[]},zt.prototype.resolve=function(t,e,n){var r=U(t,e||this.history.current,n),o=this.match(r,e),i=o.redirectedFrom||o.fullPath;return{normalizedTo:r,resolved:o,href:ht(this.history.base,i,this.mode)}},Object.defineProperties(zt.prototype,Ht),zt.install=d,Pt&&window.Vue&&window.Vue.use(zt),zt})},function(t,e,n){"use strict";(function(t){var r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/*! Copyright (c) 2016 Naufal Rabbani (http://github.com/BosNaufal)
* Licensed Under MIT (http://opensource.org/licenses/MIT)
*
* Vue Simple Store - version@1.0.0
*
*/
!function(){var i={install:function(t,e){e.debug&&console.info("[Vue Simple Store]: In Debug Mode");for(var n={},r={},o=0;o<e.stores.length;o++)void 0===e.stores[o].name&&console.warn("[Vue Simple Store]: Please add a Store Name",e.stores[o]),n[e.stores[o].name]=e.stores[o],void 0!==e.stores[o].state&&(r[e.stores[o].name]=e.stores[o].state);t.mixin({beforeCreate:function(){t.util.defineReactive(this,"$state",r),t.util.defineReactive(this,"$action",{trigger:function(t,r){var o=t.search(":"),i=t.substr(0,o),a=t.substr(o+1,t.length);return void 0===n[i]?console.warn("[Vue Simple Store]: the "+i+" store doesn't exist"):(n[i][a](r),void(e.debug&&(void 0===r?console.info(t):console.info(t,r))))}})}})}};"object"==o(t)&&t.exports?t.exports=i:void 0!==(r=function(){return i}.call(e,n,e,t))&&(t.exports=r)}()}).call(e,n(0)(t))},function(t,e,n){"use strict";var r=n(6),o=n(7);Vue.use(o,{stores:[n(5)],debug:!0}),AV.init({appId:"SPhVUhoX44YfdeDHnVfuAGXL-gzGzoHsz",appKey:"oSrGtDVEpx9fagWppyXyePS3"});var i=new r({routes:[{path:"/",component:n(3)},{path:"/play",component:n(4)}]});new Vue({router:i}).$mount("#app")},function(t,e){t.exports='<div id="container">\n  <div id="start-button" class="button center" @click="start">\n    <input id="file-input" style="display:none;" type="file" @change="getInputImage" accept="image/*">\n    <span>开始!<span>\n  </div>\n  <img id="play-img" class="img-responsive center" :src="imgSrc" v-show="!!imgSrc">\n  <div class="docker"></div>\n  <div class="draggable" data-tag="A"></div>\n  <div class="draggable" data-tag="B"></div>\n  <div class="draggable" data-tag="C"></div>\n  <div class="trash" style="right:10px; bottom:10px;"></div>\n</div>'},function(t,e){t.exports='<div id="container">\n  <img id="play-img" class="img-responsive center" :src="imgSrc" v-show="!!imgSrc" @load="loadGame">\n  <div class="hud">\n    <label class="score">得分：{{score}}</label>\n    <div class="remainTime"><i class="timer"></i><label>{{timeStr}}</label></div>\n  </div>\n</div>'}]);